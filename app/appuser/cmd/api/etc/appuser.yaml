# AppUser API 服务配置
Name: appuser-api
Host: 0.0.0.0
Port: 10001

# JWT 认证配置
Auth:
  AccessSecret: "huinong-auth-access-secret"
  AccessExpire: 3600

# RPC 客户端配置 + 懒加载 + 熔断优化
# 模式：服务发现模式 (推荐：测试 / 生产环境 / K8s 分离部署)
# 理由：支持 RPC 服务水平扩展、负载均衡和故障转移，是标准的生产级配置
# 注意：客户端的服务发现配置使用 Target URL 格式，而不是结构化配置
AppUserRpc:
  Target: consul://consul.huinong.internal/appuserrpc.rpc
  Lazy: true            # 懒加载：避免启动时因依赖服务未就绪而失败
  Timeout: 5000         # 调用超时：避免长时间等待 (毫秒)
  KeepaliveTime: 30s    # 保活时间：减少连接重建开销
  NonBlock: true        # 非阻塞：启动时不等待连接建立

# 链路追踪配置
Telemetry:
  Name: appuser-api
  Endpoint: http://10.10.10.6:14268/api/traces
  Sampler: 1.0
  Batcher: jaeger

# 日志配置
Log:
  ServiceName: appuser-api
  Mode: console # 本地开发记入文件，K8s中应使用 console
  Path: logs
  Level: info
  KeepDays: 7
  Compress: true

DevServer:
  Enabled: true

